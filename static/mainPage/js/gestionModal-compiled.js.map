{"version":3,"sources":["gestionModal.es6"],"names":["$","staticBackURL","staticLogoURL","staticPlayLogoURL","errorMessage","csrftoken","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","jQuery","trim","substring","decodeURIComponent","csrfSafeMethod","method","test","sameOrigin","url","host","location","protocol","sr_origin","origin","slice","ajaxSetup","beforeSend","xhr","settings","type","setRequestHeader","each","one","categorie","attr","__URL__","modalBody","nextElementSibling","children","get","JSON","parse","data","filter","elt","fields","confirm","forEach","e","nom","replace","append","taille","nombre_colonnes","nombre_offset","logo","presentationTextil","fail","id","type_contour","epaisseur_contour","couleur_contour","contour_arrondi","couleur_text","couleur_fond","couleur_fond_image","contour_arrondi_image","face_style","prix","text_description_short","event","presentationTextilDetail","hide","click","show","video_mp4","video_webm","dos_style","gauche_style","droite_style","num","parentElement","previousElementSibling","video","hasClass","fadeOut","fadeIn","fadeTo","src","attributes","nodeValue","closest","next"],"mappings":"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","file":"gestionModal-compiled.js","sourcesContent":["/* gestion des modals de la partie customiser  */\n$(function() {\n\t//path to the needed images\n\tconst staticBackURL = \"/static/mainPage/image/icons8-Back-26.png\";\n\tconst staticLogoURL = \"/static/mainPage/image/logo%20my%20custom%20by%20NF%20blanc.png\";\n\tconst staticPlayLogoURL = \"/static/mainPage/image/icons8-Circled Play Filled-50.png\";\n\tconst errorMessage = \"<p>Sorry, something went wrong...</p>\";\n\tconst csrftoken = getCookie('csrftoken');\n\t//function to generate the crsf\n\tfunction getCookie(name) {\n\t\tlet cookieValue = null;\n\t\tif (document.cookie && document.cookie != '') {\n\t\t\tlet cookies = document.cookie.split(';');\n\t\t\tfor (let i = 0; i < cookies.length; i++) {\n\t\t\t\tconst cookie = jQuery.trim(cookies[i]);\n\t\t\t\t// Does this cookie string begin with the name we want?\n\t\t\t\tif (cookie.substring(0, name.length + 1) == (name + '=')) {\n\t\t\t\t\tcookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cookieValue;\n\t}\n\n\tfunction csrfSafeMethod(method) {\n\t    // these HTTP methods do not require CSRF protection\n\t    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));\n\t}\n\n\tfunction sameOrigin(url) {\n\t    // test that a given url is a same-origin URL\n\t    // url could be relative or scheme relative or absolute\n\t    const host = document.location.host; // host + port\n\t    const protocol = document.location.protocol;\n\t    const sr_origin = '//' + host;\n\t    const origin = protocol + sr_origin;\n\t    // Allow absolute or scheme relative URLs to same origin or any other URL that isn't scheme relative or absolute i.e relative.\n\t    return \t(url == origin || url.slice(0, origin.length + 1) == origin + '/') ||\n\t    (url == sr_origin || url.slice(0, sr_origin.length + 1) == sr_origin + '/') ||\n\t    !(/^(\\/\\/|http:|https:).*/.test(url));\n\t}\n\n\t$.ajaxSetup({\n\t\tbeforeSend: function(xhr, settings) {\n\t\t\tif (!csrfSafeMethod(settings.type) && sameOrigin(settings.url)) {\n\t\t\t\t// Send the token to same-origin, relative URLs only.\n\t\t\t\t// Send the token only if the method warrants CSRF protection\n\t\t\t\t// Using the CSRFToken value acquired earlier\n\t\t\t\txhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n\t\t\t}\n\t\t}\n\t});\n\n\t$('.categorie_achat').each(function(){\n\t\t$(this).one(\"click\",function(){\n\t\t\tconst categorie = $(this).attr('name');\n\t\t\tconst __URL__ = `achat/addLogo/${categorie}/`;\n\t\t\tconst modalBody = this.nextElementSibling.children[0].children[0].children[0].nextElementSibling.children[0].children[0];\n\t\t\t$.get(__URL__, {'csrfmiddlewaretoken' : csrftoken, type : \"POST\" }, data => {\n\t\t\t\tJSON.parse(data).filter(elt => elt.fields.confirm).forEach(elt => {\n\t\t\t\t\tconst e = elt.fields;\n\t\t\t\t\te.nom = e.nom.replace(/ /, \"\").replace(/'/,\"\");\n\t\t\t\t\t$(modalBody).append(`\n\t\t\t\t\t\t<div class=\"col-${e.taille}-${e.nombre_colonnes} col-${e.taille}-offset-${e.nombre_offset} logo animation_ease-slow\" style=\"height: 250px; vertical-align:middle; line-height: 250px;\">\n\t\t\t\t\t\t\t<img src=\"/media/${e.logo}\" id=\"${e.nom}\" style=\"max-width: 100%; max-height: 100%;\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`);\n\t\t\t\t\t$(`#${e.nom}`).one(\"click\", function(){\n\t\t\t\t\t\tpresentationTextil(modalBody, e, 4);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tmodalBody.append(errorMessage);\n\t\t\t});\n\t\t});\n\t});\n\n\t$('.categorie').each(function() {\n\t\t//when the user click on a textile, we request the database the infos about all the matching textile\n\t\t//and append some html to the modal body. Hence, we want to do this only once !\n\t\t$(this).one(\"click\", function() {\n\t\t\tconst modalBody = $(this.nextElementSibling.children[0].children[0].children[0].nextElementSibling);\n\t\t\tconst attr = $(this).attr('id');\n\t\t\tconst type = attr.split(\"_\")[0];\n\t\t\tconst id = attr.split(\"_\")[1];\n\t\t\t//redirect to the corresponding url to match ether categorie or produit textile\n\t\t\tconst __URL__ = (type => {\n\t\t\t\tif(type == \"categorie\") return `achat/addTextilCategorie/${id}/`;\n\t\t\t\telse if(type == \"produit\") return `achat/addTextilProduit/${id}/`;\n\t\t\t})(type);\n\t\t\t$.get(__URL__, {'csrfmiddlewaretoken' : csrftoken, type : \"POST\" }, data => {\n\t\t\t\t//on succes, show every element that we requested\n\t\t\t\tJSON.parse(data).filter(elt => elt.fields.confirm).forEach(elt => {\n\t\t\t\t\tconst e = elt.fields;\n\t\t\t\t\tpresentationTextil(modalBody, e, id);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\t//on fail, append a message error\n\t\t\t\tmodalBody.append(errorMessage);\n\t\t\t});\n\t\t});\n\t});\n\n\tfunction presentationTextil(location, e, id){\n\t\t//function that show up all the textil matching the user request (=> click on a categorie or produit)\n\t\tlocation.append(`\n\t\t\t<div class=\"produit animation_ease col-${e.taille}-offset-${e.nombre_offset} col-${e.taille}-${e.nombre_colonnes}\" style=\"display:block;border:${e.type_contour} ${e.epaisseur_contour}px ${e.couleur_contour};border-radius:${e.contour_arrondi}px;color:${e.couleur_text};background-color:${e.couleur_fond}\">\n\t\t\t\t<center>\n\t\t\t\t\t<h3 class=\"myfont\">${e.nom}</h3>\n\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t<a type=\"button\" style=\"cursor: pointer;\">\n\t\t\t\t\t\t\t<img class=\"resize_width adjust_height produitImage\" id=\"produitImage_${e.nom}\" style=\"background-color: ${e.couleur_fond_image};border-radius:${e.contour_arrondi_image}px;\" src=\"media/${e.face_style}\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br><br>\n\t\t\t\t\t<p class=\"myfont\">${e.prix}€</p>\n\t\t\t\t\t<p class=\"myfont\">${e.text_description_short}</p>\n\t\t\t\t</center>\n\t\t\t</div>\n\t\t\t`);\n\t\t$(`#produitImage_${e.nom}`).one(\"click\",function(event){\n\t\t\t//if this is the first titme the user click on a textil : we append the detail to the modal body\n\t\t\t//and hide all the other textiles\n\t\t\tpresentationTextilDetail($(this), e, location);\n\t\t\tlocation.children('.produit').hide();\n\t\t\t//then we attach an event for the next time the user might want to see any detail of this specific\n\t\t\t//textile\n\t\t\t$(this).click(function(){\n\t\t\t\t$('.produit').hide();\n\t\t\t\t$(`#produitDetail_${e.nom}`).show();\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction presentationTextilDetail(elt, e, location){\n\t\t//function that show all the detail of one specific textile\n\t\tlocation.append(`\n\t\t\t<div class=\"produitDetail\" id=\"produitDetail_${e.nom}\">\n\t\t\t\t<p class=\"myfont-lg\">${e.text_description_short} : ${e.prix}€</p>\n\t\t\t\t<div class=\"col-xs-10\" style=\"border: solid 1px gray; border-radius: 10px 0 0 10px;\">\n\t\t\t\t\t<img class=\"produitImage droite\" style=\"height :600px; width: auto;background-color: ${e.couleur_fond_image};\" src=\"media/${e.face_style}\">\n\t\t\t\t\t<div style=\"padding : 100px 0 100px 0; display : none;overflow: scroll;\">\n\t\t\t\t\t\t<video controls poster=\"media/${e.face_style}\" height=\"395\" width=\"auto\">\n\t\t\t\t\t\t\t<source src=\"media/${e.video_mp4}\">\n\t\t\t\t\t\t\t<source src=\"media/${e.video_webm}\">\n\t\t\t\t\t\t\tCette video n'est pas supportée sur votre navigateur...\n\t\t\t\t\t\t</video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-xs-2\" style=\"border: solid 1px gray; border-radius:0 10px 10px 0;\">\n\t\t\t\t\t<div class=\"produitImage droite\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.face_style}')\" src=\"media/${e.face_style}\"></div>\n\t\t\t\t\t<div class=\"produitImage droite\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.dos_style}')\" src=\"media/${e.dos_style}\"></div>\n\t\t\t\t\t<div class=\"produitImage droite\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.gauche_style}')\" src=\"media/${e.gauche_style}\"></div>\n\t\t\t\t\t<div class=\"produitImage droite\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.droite_style}')\" src=\"media/${e.droite_style}\"></div>\n\t\t\t\t\t<div class=\"produitImage droite video\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.face_style}')\" src=\"media/${e.face_style}\"><img src=\"${staticPlayLogoURL}\" style=\"padding-top: 25px;\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t\t<button class=\"fermer\" style=\"margin-top: 10px;\"><img style=\"height: 40px; width: auto;\" src=${staticBackURL}></button>\n\t\t\t\t\t<a href=\"TshirtDesigner/designer/${e.num}\" style=\"margin-top: 10px;\"><button>Customier ! <img style=\"height: 40px; width: auto;\" src=${staticLogoURL}></button></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`);\n\t\t//we then attach some event to manage the user's click to go back to the proposition, change the cureent dislayed \n\t\t//image, display the video\n\t\t$('.droite').each(function(){\n\t\t\t$(this).click(function(){\n\t\t\t\tlet elt = $(this.parentElement.previousElementSibling.children)[0];\n\t\t\t\tlet video = $(this.parentElement.previousElementSibling.children)[1];\n\t\t\t\tif($(this).hasClass('video')){\n\t\t\t\t\t$(elt).fadeOut(0);\n\t\t\t\t\t$(video).fadeIn(400);\n\t\t\t\t} else {\n\t\t\t\t\t$(elt).fadeTo(100, 0, () => {\n\t\t\t\t\t\t$(video).hide();\n\t\t\t\t\t\telt.src = this.attributes.src.nodeValue;\n\t\t\t\t\t\t$(elt).fadeTo(100, 1);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\t$('.fermer').each(function(){\n\t\t\t$(this).click(function() {\n\t\t\t\t$(this.parentElement.parentElement).fadeOut(0);\n\t\t\t\t$('.produit').fadeIn(400);\n\t\t\t});\n\t\t});\n\t\t$(`#${e.nom}`).click(function(){\n\t\t\t$('.produit').fadeOut(0);\n\t\t\t$(this).closest('.produit').next().fadeIn(400);\n\t\t});\n\t}\n});\n"]}