{"version":3,"sources":["gestionModal.es6"],"names":["$","staticBackURL","staticLogoURL","staticPlayLogoURL","errorMessage","csrftoken","getCookie","__DATA__","type","name","cookieValue","document","cookie","cookies","split","i","length","jQuery","trim","substring","decodeURIComponent","csrfSafeMethod","method","test","sameOrigin","url","host","location","protocol","sr_origin","origin","slice","ajaxStart","ajaxStop","ajaxSetup","beforeSend","xhr","settings","setRequestHeader","each","one","modalBody","nextElementSibling","children","categorie","attr","__URL__","get","JSON","parse","data","filter","elt","fields","confirm","forEach","append","e","taille","nombre_colonnes","nombre_offset","logo","num","presentationTextil","fail","id","type_contour","epaisseur_contour","couleur_contour","contour_arrondi","couleur_text","couleur_fond","nom","couleur_fond_image","contour_arrondi_image","face_style","prix","text_description_short","event","presentationTextilDetail","fadeOut","click","fadeIn","video_mp4","video_webm","dos_style","gauche_style","droite_style","parentElement","previousElementSibling","video","hasClass","fadeTo","src","attributes","nodeValue","produitDetail","find","pause","currentTime","load","value","on"],"mappings":"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","file":"gestionModal-compiled.js","sourcesContent":["/* gestion des modals de la partie customiser  */\n$(function() {\n    //path to the needed images\n    const staticBackURL = \"/static/mainPage/image/icons8-Back-26.png\";\n    const staticLogoURL = \"/static/mainPage/image/logo%20my%20custom%20by%20NF%20blanc.png\";\n    const staticPlayLogoURL = \"/static/mainPage/image/icons8-Circled Play Filled-50.png\";\n    const errorMessage = \"<p>Sorry, something went wrong...</p>\";\n    const csrftoken = getCookie('csrftoken');\n    const __DATA__ = {\n        'csrfmiddlewaretoken': csrftoken,\n        type: \"POST\",\n    };\n    //function to generate the crsf\n    function getCookie(name) {\n        let cookieValue = null;\n        if (document.cookie && document.cookie != '') {\n            let cookies = document.cookie.split(';');\n            for (let i = 0; i < cookies.length; i++) {\n                const cookie = jQuery.trim(cookies[i]);\n                // Does this cookie string begin with the name we want?\n                if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                    break;\n                }\n            }\n        }\n        return cookieValue;\n    }\n\n    function csrfSafeMethod(method) {\n        // these HTTP methods do not require CSRF protection\n        return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));\n    }\n\n    function sameOrigin(url) {\n        // test that a given url is a same-origin URL\n        // url could be relative or scheme relative or absolute\n        const host = document.location.host; // host + port\n        const protocol = document.location.protocol;\n        const sr_origin = '//' + host;\n        const origin = protocol + sr_origin;\n        // Allow absolute or scheme relative URLs to same origin or any other URL that isn't scheme relative or absolute i.e relative.\n        return (url == origin || url.slice(0, origin.length + 1) == origin + '/') ||\n            (url == sr_origin || url.slice(0, sr_origin.length + 1) == sr_origin + '/') ||\n            !(/^(\\/\\/|http:|https:).*/.test(url));\n    }\n\n    $(document).ajaxStart(function() {\n        //document.getElementById(\"loading\").style.display = \"flex\";\n    });\n\n    $(document).ajaxStop(function() {\n        //document.getElementById(\"loading\").style.display = \"none\";\n    });\n\n    $.ajaxSetup({\n        beforeSend: function(xhr, settings) {\n            if (!csrfSafeMethod(settings.type) && sameOrigin(settings.url)) {\n                // Send the token to same-origin, relative URLs only.\n                // Send the token only if the method warrants CSRF protection\n                // Using the CSRFToken value acquired earlier\n                xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n            }\n        }\n    });\n\n    $('.categorie_achat').each(function() {\n        $(this).one(\"click\", function() {\n            const modalBody = $(this.nextElementSibling.children[0].children[0].children[0].nextElementSibling.children[0].children[0]);\n            const categorie = $(this).attr('name');\n            const __URL__ = `achat/addLogo/${categorie}/`;\n            $.get(__URL__, __DATA__, data => {\n                    JSON.parse(data).filter(elt => elt.fields.confirm).forEach(elt => {\n                        modalBody.append(`\n\t\t\t\t\t\t<div class=\"col-${e.taille}-${e.nombre_colonnes} col-${e.taille}-offset-${e.nombre_offset} logo animation_ease-slow\" style=\"height: 250px; vertical-align:middle; line-height: 250px;\">\n\t\t\t\t\t\t\t<img src=\"/media/${e.logo}\" id=\"logo_${e.num}\" style=\"max-width: 100%; max-height: 100%;\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`);\n                        $(`#logo_${e.num}`).one(\"click\", function() {\n                            presentationTextil(modalBody, e, 4);\n                        });\n                    });\n                })\n                .fail(() => {\n                    modalBody.append(errorMessage);\n                });\n        });\n    });\n\n    $('.categorie').each(function() {\n        //when the user click on a textile, we request the database the infos about all the matching textile\n        //and append some html to the modal body. Hence, we want to do this only once !\n        $(this).one(\"click\", function() {\n            const modalBody = $(this.nextElementSibling.children[0].children[0].children[0].nextElementSibling);\n            const attr = $(this).attr('id');\n            const type = attr.split(\"_\")[0];\n            const id = attr.split(\"_\")[1];\n            //redirect to the corresponding url to match ether categorie or produit textile\n            const __URL__ = (type => {\n                if (type == \"categorie\") return `achat/addTextilCategorie/${id}/`;\n                else if (type == \"produit\") return `achat/addTextilProduit/${id}/`;\n            })(type);\n            $.get(__URL__, __DATA__, data => {\n                    //on succes, show every element that we requested\n                    JSON.parse(data).filter(elt => elt.fields.confirm).forEach(elt => {\n                        const e = elt.fields;\n                        presentationTextil(modalBody, e, type);\n                    });\n                })\n                .fail(() => {\n                    //on fail, append a message error\n                    modalBody.append(errorMessage);\n                });\n        });\n    });\n\n    function presentationTextil(location, e, type) {\n        //function that show up all the textil matching the user request (=> click on a categorie or produit)\n        location.append(`\n\t\t\t<div class=\"produit animation_ease col-${e.taille}-offset-${e.nombre_offset} col-${e.taille}-${e.nombre_colonnes}\" style=\"display:block;border:${e.type_contour} ${e.epaisseur_contour}px ${e.couleur_contour};border-radius:${e.contour_arrondi}px;color:${e.couleur_text};background-color:${e.couleur_fond}\">\n\t\t\t\t<center>\n\t\t\t\t\t<h3 class=\"myfont\">${e.nom}</h3>\n\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t<a type=\"button\" style=\"cursor: pointer;\">\n\t\t\t\t\t\t\t<img class=\"resize_width adjust_height produitImage\" id=\"produitImage_${e.num}_${type}\" style=\"background-color:${e.couleur_fond_image}; border-radius:${e.contour_arrondi_image}px;height:400px;width:auto;cursor:pointer;\" src=\"media/${e.face_style}\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br><br>\n\t\t\t\t\t<p class=\"myfont\">${e.prix}€</p>\n\t\t\t\t\t<p class=\"myfont\">${e.text_description_short}</p>\n\t\t\t\t</center>\n\t\t\t</div>\n\t\t`);\n        $(`#produitImage_${e.num}_${type}`).one(\"click\", function(event) {\n            //if this is the first titme the user click on a textil : we append the detail to the modal body\n            //and hide all the other textiles\n            presentationTextilDetail($(this), e, location, type);\n            location.children('.produit').fadeOut(0);\n            //then we attach an event for the next time the user might want to see any detail of this specific\n            //textile\n            $(this).click(function() {\n                $('.produit').fadeOut(0);\n                $(`#produitDetail_${e.num}_${type}`).fadeIn(0);\n            });\n        });\n    }\n\n    function presentationTextilDetail(elt, e, location, type) {\n        //function that show all the detail of one specific textile\n        location.append(`\n\t\t\t<div class=\"produitDetail\" id=\"produitDetail_${e.num}_${type}\">\n\t\t\t\t<p class=\"myfont-lg\">${e.text_description_short} : ${e.prix}€</p>\n\t\t\t\t<div class=\"col-xs-10\" style=\"border: solid 1px gray; border-radius: 10px 0 0 10px;\">\n\t\t\t\t\t<img id=\"image_${e.num}_${type}\" class=\"produitImage droite\" style=\"height :600px; width: auto;background-color: ${e.couleur_fond_image};\" src=\"media/${e.face_style}\">\n\t\t\t\t\t<div style=\"padding : 100px 0 100px 0; display : none;overflow: scroll;\">\n\t\t\t\t\t\t<video controls poster=\"media/${e.face_style}\" height=\"395\" width=\"auto\">\n\t\t\t\t\t\t\t<source src=\"media/${e.video_mp4}\">\n\t\t\t\t\t\t\t<source src=\"media/${e.video_webm}\">\n\t\t\t\t\t\t\tCette video n'est pas supportée sur votre navigateur...\n\t\t\t\t\t\t</video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-xs-2\" style=\"border: solid 1px gray; border-radius:0 10px 10px 0;\">\n\t\t\t\t\t<div id=\"first_${e.num}_${type}\" class=\"produitImage droite\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.face_style}')\" src=\"media/${e.face_style}\"></div>\n\t\t\t\t\t<div class=\"produitImage droite\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.dos_style}')\" src=\"media/${e.dos_style}\"></div>\n\t\t\t\t\t<div class=\"produitImage droite\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.gauche_style}')\" src=\"media/${e.gauche_style}\"></div>\n\t\t\t\t\t<div class=\"produitImage droite\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.droite_style}')\" src=\"media/${e.droite_style}\"></div>\n\t\t\t\t\t<div class=\"produitImage droite video\" style=\"background-color: ${e.couleur_fond_image}; background-image: url('media/${e.face_style}')\" src=\"media/${e.face_style}\"><img src=\"${staticPlayLogoURL}\" style=\"padding-top: 25px;\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t\t<button class=\"fermer\" style=\"margin-top: 10px;\"><img style=\"height: 40px; width: auto;\" src=${staticBackURL}></button>\n\t\t\t\t\t<a href=\"TshirtDesigner/designer/${e.num}\" style=\"margin-top: 10px;\"><button>Customier ! <img style=\"height: 40px; width: auto;\" src=${staticLogoURL}></button></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n        //we then attach some event to manage the user's click to go back to the proposition, change the cureent dislayed \n        //image, display the video\n        $('.droite').each(function() {\n            $(this).click(function() {\n                let elt = $(this.parentElement.previousElementSibling.children)[0];\n                let video = $(this.parentElement.previousElementSibling.children)[1];\n                if ($(this).hasClass('video')) {\n                    $(elt).fadeOut(0);\n                    $(video).fadeIn(400);\n                } else {\n                    $(elt).fadeTo(100, 0, () => {\n                        $(video).fadeOut(0);\n                        elt.src = this.attributes.src.nodeValue;\n                        $(elt).fadeTo(100, 1);\n                    });\n                }\n            });\n        });\n        $('.fermer').each(function() {\n            $(this).click(function() {\n                const produitDetail = $(this.parentElement.parentElement);\n                produitDetail.find('video').each(function() {\n                    this.pause();\n                    this.currentTime = 0;\n                    this.load();\n                    $(this.parentElement).fadeOut(0);\n                });\n                produitDetail.fadeOut(0);\n                $('.produit').fadeIn(400);\n                $(`#image_${e.num}_${type}`).fadeIn(0);\n                $(`#image_${e.num}_${type}`)[0].src = $(`#first_${e.num}_${type}`)[0].attributes.src.value;\n            });\n        });\n        $('.modal').each(function() {\n            $(this).on('hidden.bs.modal', function() {\n                $(this).find('video').each(function() {\n                    this.pause();\n                    this.currentTime = 0;\n                    this.load();\n                    $(this.parentElement).fadeOut(0);\n                });\n                $('.produitDetail').each(function() {\n                    $(this).fadeOut(0);\n                });\n                $('.produit').fadeIn(0);\n                $(`#image_${e.num}_${type}`).fadeIn(0);\n                $(`#image_${e.num}_${type}`)[0].src = $(`#first_${e.num}_${type}`)[0].attributes.src.value;\n            });\n        });\n    }\n});"]}